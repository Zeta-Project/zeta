<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/web-socket/web-socket.html">
<link rel="import" href="../../bower_components/iron-signals/iron-signals.html">

<dom-module id="job-manager">
  <template>
    <iron-signals id="signal"></iron-signals>
  </template>
  <script>
    Polymer({
      is: 'job-manager',

      send(obj) {
        this.$.signal.fire('iron-signal', {name: 'send-job', data: obj});
      },

      cancelWorkByUser(id) {
        this.send({
          action: 'CancelWorkByUser',
          id: id
        });
      },

      runFilter(filter) {
        this.send({
          action: 'RunFilter',
          filter: filter
        });
      },

      runGenerator(generator, filter) {
        generator = (generator) ? generator : '';
        filter = (filter) ? filter : '';
        this.send({
          action: 'RunGenerator',
          generator: generator,
          filter: filter
        });
      },

      runModelRelease(model) {
        this.send({
          action: 'RunModelRelease',
          model: model
        });
      },

      createGenerator(image, options) {
        this.send({
          action: 'CreateGenerator',
          image: image,
          options: options
        });
      }
    });
  </script>
</dom-module>
