@import java.util.UUID

@import de.htwg.zeta.common.models.entity.User
@import de.htwg.zeta.common.models.project.GdslProject
@import play.api.libs.json.Json


@(user: Option[User], id: UUID, gdslProject: GdslProject)

@styles = {
    <link rel="stylesheet" type="text/css" href="@routes.ScalaRoutes.getStaticFiles("yfiles-editor.bundle.css")">
}
@scripts = {
    <script type="text/javascript">
        window.loadedMetaModel = {};
        window.loadedMetaModel.uuid = "@id";
        window.loadedMetaModel.name = "@gdslProject.name";
    @if(gdslProject.concept.uiState.nonEmpty) {
        window.loadedMetaModel.loadOnStart = true;
        window.loadedMetaModel.graph = JSON.parse(@Html(Json.stringify(Json.toJson(gdslProject.concept.uiState))));
    }
    </script>
    <script type="text/javascript" src="@routes.ScalaRoutes.getStaticFiles("yfiles-editor.bundle.js")"></script>
}
@views.html.webpage.WebpageGeneralLayout("Meta Model Editor", user, styles, scripts, Some(gdslProject)) {

    <aside class="sidebar left">
        <h1 class="sidebar-header">Palette</h1>
        <div class="sidebar-content" style="position: relative; padding: 0;">
            <div id="drag-and-drop-panel">

            </div>
        </div>
    </aside>

    <aside class="sidebar right">
        <h1 class="sidebar-header">Properties</h1>
        <div class="sidebar-content" style="position: relative; padding: 0;">
            <div id="properties-panel"></div>
        </div>
    </aside>

    <div class="toolbar">
        <button class="icon-yIconSave" data-command="Save" title="Save"></button>
        <span class="separator"></span>
        <button class="icon-yIconZoomOriginal" data-command="ZoomOriginal"
        title="Zoom to original size"></button>
        <button class="icon-yIconZoomFit" data-command="FitContent" title="Fit Content"></button>
        <span class="separator"></span>
        <button class="icon-yIconCut" data-command="Cut" title="Cut"></button>
        <button class="icon-yIconCopy" data-command="Copy" title="Copy"></button>
        <button class="icon-yIconPaste" data-command="Paste" title="Paste"></button>
        <span class="separator"></span>
        <button class="icon-yIconUndo" data-command="Undo" title="Undo"></button>
        <button class="icon-yIconRedo" data-command="Redo" title="Redo"></button>
        <input type="checkbox" id="snapping-button" class="toggle-button"><label for="snapping-button" class="icon-yIconSnapping" title="Snapping"></label>
        <button data-command="Layout" title="Run Layout" class="icon-yIconLayout"></button>
    </div>

    <div class="content">
        <div id="graphComponent"></div>
    </div>

    <div id="snackbar"></div>
}